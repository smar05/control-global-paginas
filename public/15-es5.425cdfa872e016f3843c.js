!function(){function i(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function t(i,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{DlX0:function(o,n,e){"use strict";e.r(n),e.d(n,"EditCategoriaPageModule",(function(){return y}));var c=e("ofXK"),a=e("3Pt+"),r=e("TEn/"),s=e("tyNb"),u=e("PSD3"),l=e.n(u),b=e("fXoL"),d=e("lXRa");function f(i,t){1&i&&(b.Nb(0,"ion-title"),b.ic(1,"Crear categoria"),b.Mb())}function g(i,t){1&i&&(b.Nb(0,"ion-title"),b.ic(1,"Editar categoria"),b.Mb())}function h(i,t){if(1&i){var o=b.Ob();b.Nb(0,"ion-button",10),b.Vb("click",(function(){return b.ec(o),b.Xb().delete()})),b.ic(1,"Borrar"),b.Mb()}}var v,C,p,m=[{path:"",component:(v=function(){function o(t){i(this,o),this.servicio=t,this.idC=null,this.categoria={id:null,nombre:null},this.productos=[]}var n,e,c;return n=o,(e=[{key:"ngOnInit",value:function(){var i=this;this.servicio.inicio(),this.idC=this.servicio.getIdC(),0!=this.idC&&this.servicio.getCategoria(this.idC).valueChanges().subscribe((function(t){i.categoria=t}))}},{key:"back",value:function(){this.servicio.back()}},{key:"save",value:function(){0==this.idC?(this.idC=Date.now(),this.servicio.setIdC(this.idC),this.categoria.id=this.idC,this.servicio.exito("Categoria creada")):this.servicio.exito("Categoria actualizada"),this.servicio.saveCategoria(this.categoria),this.servicio.back()}},{key:"delete",value:function(){this.confirmar("Eliminar","si","No","Categoria eliminada","La categoria ha sido eliminada con exito")}},{key:"confirmar",value:function(i,t,o,n,e){var c=this;l.a.fire({title:i,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:t,cancelButtonText:o}).then((function(i){i.isConfirmed&&(l.a.fire(n,e,"success"),c.servicio.getProductos().valueChanges().subscribe((function(i){c.productos=i,console.log("Datos eliminados");for(var t=0;t<c.productos.length;t++)c.productos[t].categoria==c.categoria.id&&c.servicio.deleteProducto(c.productos[t].id)})),c.servicio.deleteCategoria(c.categoria),c.back())}))}}])&&t(n.prototype,e),c&&t(n,c),o}(),v.\u0275fac=function(i){return new(i||v)(b.Ib(d.a))},v.\u0275cmp=b.Cb({type:v,selectors:[["app-edit-categoria"]],decls:15,vars:4,consts:[["color","dark"],["slot","start"],[3,"click"],["name","caret-back-outline"],[4,"ngIf"],["color","medium"],["position","floating"],[3,"ngModel","ngModelChange"],["expand","full",3,"click"],["expand","full","color","danger",3,"click",4,"ngIf"],["expand","full","color","danger",3,"click"]],template:function(i,t){1&i&&(b.Nb(0,"ion-toolbar",0),b.Nb(1,"ion-buttons",1),b.Nb(2,"ion-button",2),b.Vb("click",(function(){return t.back()})),b.Jb(3,"ion-icon",3),b.Mb(),b.Mb(),b.hc(4,f,2,0,"ion-title",4),b.hc(5,g,2,0,"ion-title",4),b.Mb(),b.Nb(6,"ion-content",5),b.Nb(7,"ion-card"),b.Nb(8,"ion-item"),b.Nb(9,"ion-label",6),b.ic(10,"Nombre"),b.Mb(),b.Nb(11,"ion-input",7),b.Vb("ngModelChange",(function(i){return t.categoria.nombre=i})),b.Mb(),b.Mb(),b.Mb(),b.Nb(12,"ion-button",8),b.Vb("click",(function(){return t.save()})),b.ic(13,"Guardar"),b.Mb(),b.hc(14,h,2,0,"ion-button",9),b.Mb()),2&i&&(b.yb(4),b.cc("ngIf",0==t.idC),b.yb(1),b.cc("ngIf",0!=t.idC),b.yb(6),b.cc("ngModel",t.categoria.nombre),b.yb(3),b.cc("ngIf",0!=t.idC))},directives:[r.C,r.e,r.d,r.s,c.k,r.m,r.f,r.u,r.v,r.t,r.K,a.d,a.e,r.B],styles:[""]}),v)}],k=((p=function t(){i(this,t)}).\u0275mod=b.Gb({type:p}),p.\u0275inj=b.Fb({factory:function(i){return new(i||p)},imports:[[s.i.forChild(m)],s.i]}),p),y=((C=function t(){i(this,t)}).\u0275mod=b.Gb({type:C}),C.\u0275inj=b.Fb({factory:function(i){return new(i||C)},imports:[[c.b,a.a,r.D,k]]}),C)}}])}();