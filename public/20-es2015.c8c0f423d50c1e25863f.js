(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{qzga:function(o,i,n){"use strict";n.r(i),n.d(i,"MostrarPedidoPageModule",(function(){return f}));var t=n("ofXK"),e=n("3Pt+"),b=n("TEn/"),c=n("tyNb"),a=n("PSD3"),r=n.n(a),s=n("fXoL"),l=n("lXRa");function d(o,i){1&o&&(s.Lb(0),s.Jb(1,"img",6),s.Kb())}function u(o,i){if(1&o){const o=s.Ob();s.Nb(0,"ion-row"),s.Nb(1,"ion-item"),s.Nb(2,"ion-label",18),s.ic(3),s.Mb(),s.Nb(4,"ion-input",36),s.Vb("ngModelChange",(function(i){return s.ec(o),s.Xb().$implicit.caracteristica=i})),s.Mb(),s.Mb(),s.Mb()}if(2&o){const o=s.Xb().$implicit;s.yb(3),s.jc(o.variantesOp),s.yb(1),s.cc("ngModel",o.caracteristica)}}function M(o,i){if(1&o){const o=s.Ob();s.Lb(0),s.Nb(1,"div",33),s.Nb(2,"ion-row"),s.Nb(3,"ion-col",34),s.Nb(4,"ion-textarea",19),s.Vb("ngModelChange",(function(n){return s.ec(o),i.$implicit.ref=n})),s.Mb(),s.Mb(),s.Nb(5,"ion-col",35),s.Nb(6,"ion-textarea",19),s.Vb("ngModelChange",(function(n){return s.ec(o),i.$implicit.nombre=n})),s.Mb(),s.Mb(),s.Nb(7,"ion-col",34),s.Nb(8,"ion-input",25),s.Vb("ngModelChange",(function(n){return s.ec(o),i.$implicit.cantidad=n})),s.Mb(),s.Mb(),s.Nb(9,"ion-col",22),s.Nb(10,"ion-input",25),s.Vb("ngModelChange",(function(n){return s.ec(o),i.$implicit.precio=n})),s.Mb(),s.Mb(),s.Mb(),s.hc(11,u,5,2,"ion-row",5),s.Mb(),s.Jb(12,"br"),s.Kb()}if(2&o){const o=i.$implicit;s.yb(4),s.cc("ngModel",o.ref),s.yb(2),s.cc("ngModel",o.nombre),s.yb(2),s.cc("ngModel",o.cantidad),s.yb(2),s.cc("ngModel",o.precio),s.yb(1),s.cc("ngIf",o.variantes)}}function h(o,i){if(1&o&&(s.Nb(0,"p",37),s.ic(1),s.Yb(2,"currency"),s.Mb()),2&o){const o=s.Xb(2);s.yb(1),s.kc("Subtotal: ",s.Zb(2,1,o.datos.subTotal,"COP"),"")}}function g(o,i){if(1&o){const o=s.Ob();s.Lb(0),s.Nb(1,"ion-fab",7),s.Nb(2,"ion-fab-button",0),s.Jb(3,"ion-icon",8),s.Mb(),s.Nb(4,"ion-fab-list",9),s.Nb(5,"ion-fab-button",10),s.Vb("click",(function(){return s.ec(o),s.Xb().delete()})),s.Jb(6,"ion-icon",11),s.Mb(),s.Nb(7,"ion-fab-button",12),s.Vb("click",(function(){return s.ec(o),s.Xb().guardarPedido()})),s.Jb(8,"ion-icon",13),s.Mb(),s.Nb(9,"ion-fab-button",14),s.Vb("click",(function(){return s.ec(o),s.Xb().cotizacion()})),s.Jb(10,"ion-icon",15),s.Mb(),s.Nb(11,"ion-fab-button",16),s.Vb("click",(function(){return s.ec(o),s.Xb().rotulo()})),s.Jb(12,"img",17),s.Mb(),s.Mb(),s.Mb(),s.Nb(13,"ion-card"),s.Nb(14,"ion-card-header"),s.Nb(15,"ion-card-title"),s.Nb(16,"h1"),s.Nb(17,"b"),s.ic(18),s.Yb(19,"date"),s.Mb(),s.Mb(),s.Nb(20,"h6"),s.Nb(21,"b"),s.ic(22,"Pedido id:"),s.Mb(),s.ic(23),s.Mb(),s.Nb(24,"ion-item"),s.Nb(25,"ion-label",18),s.ic(26,"Asesor"),s.Mb(),s.Nb(27,"ion-input",19),s.Vb("ngModelChange",(function(i){return s.ec(o),s.Xb().datos.asesor=i})),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Nb(28,"ion-card"),s.Nb(29,"ion-card-header"),s.Nb(30,"ion-card-title"),s.Nb(31,"b"),s.ic(32,"Pedido"),s.Mb(),s.Mb(),s.Mb(),s.Nb(33,"ion-card-content"),s.Nb(34,"ion-row"),s.Nb(35,"ion-col",20),s.Nb(36,"b"),s.ic(37,"Ref"),s.Mb(),s.Mb(),s.Nb(38,"ion-col",21),s.Nb(39,"b"),s.ic(40,"Nombre"),s.Mb(),s.Mb(),s.Nb(41,"ion-col",20),s.Nb(42,"b"),s.ic(43,"Cantidad"),s.Mb(),s.Mb(),s.Nb(44,"ion-col",22),s.Nb(45,"b"),s.ic(46,"Precio"),s.Mb(),s.Mb(),s.Mb(),s.hc(47,M,13,5,"ng-container",23),s.Jb(48,"br"),s.Nb(49,"ion-item"),s.Nb(50,"ion-label",18),s.ic(51,"Nota"),s.Mb(),s.Nb(52,"ion-textarea",19),s.Vb("ngModelChange",(function(i){return s.ec(o),s.Xb().datos.nota=i})),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Nb(53,"ion-card"),s.Nb(54,"ion-card-header"),s.Nb(55,"ion-card-title",24),s.Nb(56,"b"),s.ic(57,"Total del pedido"),s.Mb(),s.Nb(58,"ion-item"),s.Nb(59,"ion-label",18),s.ic(60,"Impuestos %"),s.Mb(),s.Nb(61,"ion-input",25),s.Vb("ngModelChange",(function(i){return s.ec(o),s.Xb().datos.iva=i})),s.Mb(),s.Mb(),s.Nb(62,"ion-item"),s.Nb(63,"ion-label",18),s.ic(64,"Descuento %"),s.Mb(),s.Nb(65,"ion-input",25),s.Vb("ngModelChange",(function(i){return s.ec(o),s.Xb().datos.descuento=i})),s.Mb(),s.Mb(),s.Nb(66,"ion-item"),s.Nb(67,"ion-label",18),s.ic(68,"Envio"),s.Mb(),s.Nb(69,"ion-input",25),s.Vb("ngModelChange",(function(i){return s.ec(o),s.Xb().datos.envio=i})),s.Mb(),s.Mb(),s.hc(70,h,3,4,"p",26),s.Nb(71,"b"),s.ic(72),s.Yb(73,"currency"),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Nb(74,"ion-card"),s.Nb(75,"ion-card-header"),s.Nb(76,"ion-card-title"),s.Nb(77,"div",27),s.Nb(78,"b"),s.ic(79,"Datos del cliente"),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Nb(80,"ion-card-content"),s.Nb(81,"ion-item"),s.Nb(82,"ion-label",18),s.ic(83,"Nombre del cliente"),s.Mb(),s.Nb(84,"ion-input",19),s.Vb("ngModelChange",(function(i){return s.ec(o),s.Xb().datos.nombre=i})),s.Mb(),s.Mb(),s.Nb(85,"ion-item"),s.Nb(86,"ion-label",18),s.ic(87,"Departamento"),s.Mb(),s.Nb(88,"ion-input",19),s.Vb("ngModelChange",(function(i){return s.ec(o),s.Xb().datos.departamento=i})),s.Mb(),s.Mb(),s.Nb(89,"ion-item"),s.Nb(90,"ion-label",18),s.ic(91,"Ciudad"),s.Mb(),s.Nb(92,"ion-input",19),s.Vb("ngModelChange",(function(i){return s.ec(o),s.Xb().datos.ciudad=i})),s.Mb(),s.Mb(),s.Nb(93,"ion-item"),s.Nb(94,"ion-label",18),s.ic(95,"Direccion"),s.Mb(),s.Nb(96,"ion-textarea",19),s.Vb("ngModelChange",(function(i){return s.ec(o),s.Xb().datos.direccion=i})),s.Mb(),s.Mb(),s.Nb(97,"ion-item"),s.Nb(98,"ion-label",18),s.ic(99,"Correo"),s.Mb(),s.Nb(100,"ion-input",19),s.Vb("ngModelChange",(function(i){return s.ec(o),s.Xb().datos.correo=i})),s.Mb(),s.Mb(),s.Nb(101,"ion-item"),s.Nb(102,"ion-label",18),s.ic(103,"Whatsapp"),s.Mb(),s.Nb(104,"ion-input",25),s.Vb("ngModelChange",(function(i){return s.ec(o),s.Xb().datos.whatsapp=i})),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Nb(105,"ion-card"),s.Nb(106,"ion-card-header"),s.Nb(107,"ion-card-title"),s.Nb(108,"div",27),s.Nb(109,"b"),s.ic(110,"Datos del Vendedor"),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Nb(111,"ion-card-content"),s.Nb(112,"ion-item"),s.Nb(113,"ion-label",18),s.ic(114,"Nombre del remitente"),s.Mb(),s.Nb(115,"ion-input",19),s.Vb("ngModelChange",(function(i){return s.ec(o),s.Xb().facturacion.nombre=i})),s.Mb(),s.Mb(),s.Nb(116,"ion-item"),s.Nb(117,"ion-label",18),s.ic(118,"Direccion"),s.Mb(),s.Nb(119,"ion-textarea",19),s.Vb("ngModelChange",(function(i){return s.ec(o),s.Xb().facturacion.direccion=i})),s.Mb(),s.Mb(),s.Nb(120,"ion-item"),s.Nb(121,"ion-label",18),s.ic(122,"Correo"),s.Mb(),s.Nb(123,"ion-input",19),s.Vb("ngModelChange",(function(i){return s.ec(o),s.Xb().facturacion.correo=i})),s.Mb(),s.Mb(),s.Nb(124,"ion-row"),s.Nb(125,"ion-col",28),s.Nb(126,"ion-item"),s.Nb(127,"ion-label",18),s.ic(128,"Indicativo"),s.Mb(),s.Nb(129,"ion-input",25),s.Vb("ngModelChange",(function(i){return s.ec(o),s.Xb().facturacion.indicativo=i})),s.Mb(),s.Mb(),s.Mb(),s.Nb(130,"ion-col",29),s.Nb(131,"ion-item"),s.Nb(132,"ion-label",18),s.ic(133,"Celular"),s.Mb(),s.Nb(134,"ion-input",25),s.Vb("ngModelChange",(function(i){return s.ec(o),s.Xb().facturacion.whatsapp=i})),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Nb(135,"ion-item"),s.Nb(136,"ion-label",18),s.ic(137,"Cantidad de rotulos"),s.Mb(),s.Nb(138,"ion-input",25),s.Vb("ngModelChange",(function(i){return s.ec(o),s.Xb().facturacion.rotulos=i})),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Nb(139,"ion-card"),s.Nb(140,"ion-card-header",16),s.Vb("click",(function(){return s.ec(o),s.Xb().sendWha()})),s.Jb(141,"ion-icon",30),s.Nb(142,"b"),s.ic(143,"Enviar Whatsapp"),s.Mb(),s.Mb(),s.Nb(144,"ion-card-content"),s.Nb(145,"ion-item"),s.Nb(146,"ion-label",18),s.ic(147,"Numero de whatsapp"),s.Mb(),s.Nb(148,"ion-input",25),s.Vb("ngModelChange",(function(i){return s.ec(o),s.Xb().whatsapp=i})),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Nb(149,"ion-footer",31),s.Nb(150,"ion-toolbar"),s.Nb(151,"ion-button",32),s.Vb("click",(function(){return s.ec(o),s.Xb().calcular()})),s.ic(152,"Guardar cambios"),s.Mb(),s.Mb(),s.Mb(),s.Jb(153,"br"),s.Jb(154,"br"),s.Kb()}if(2&o){const o=s.Xb();s.yb(18),s.jc(s.Zb(19,23,o.datos.fecha,"medium")),s.yb(5),s.kc(" ",o.datos.fecha,""),s.yb(4),s.cc("ngModel",o.datos.asesor),s.yb(20),s.cc("ngForOf",o.productosOrganizar()),s.yb(5),s.cc("ngModel",o.datos.nota),s.yb(9),s.cc("ngModel",o.datos.iva),s.yb(4),s.cc("ngModel",o.datos.descuento),s.yb(4),s.cc("ngModel",o.datos.envio),s.yb(1),s.cc("ngIf",o.datos.subTotal),s.yb(2),s.kc("Total: ",s.Zb(73,26,o.datos.total,"COP"),""),s.yb(12),s.cc("ngModel",o.datos.nombre),s.yb(4),s.cc("ngModel",o.datos.departamento),s.yb(4),s.cc("ngModel",o.datos.ciudad),s.yb(4),s.cc("ngModel",o.datos.direccion),s.yb(4),s.cc("ngModel",o.datos.correo),s.yb(4),s.cc("ngModel",o.datos.whatsapp),s.yb(11),s.cc("ngModel",o.facturacion.nombre),s.yb(4),s.cc("ngModel",o.facturacion.direccion),s.yb(4),s.cc("ngModel",o.facturacion.correo),s.yb(6),s.cc("ngModel",o.facturacion.indicativo),s.yb(5),s.cc("ngModel",o.facturacion.whatsapp),s.yb(4),s.cc("ngModel",o.facturacion.rotulos),s.yb(10),s.cc("ngModel",o.whatsapp)}}const N=[{path:"",component:(()=>{class o{constructor(o,i){this.servicio=o,this.router=i,this.linkWha=null,this.cuerpoEmail=null,this.idP=null,this.datos={id:null,nombre:null,total:null,envio:null,subTotal:null,iva:0,descuento:0,correo:null,whatsapp:null,nota:null,fecha:null,asesor:null},this.productos=[{id:null,nombre:null,cantidad:null,precio:null}],this.facturacion={nombre:null,correo:null,indicativo:null,whatsapp:null,direccion:null},this.pagina={},this.whatsapp=null,this.loading=!0}ngOnInit(){this.servicio.inicio(),this.idP=this.servicio.getIdp(),this.servicio.getPagina().valueChanges().subscribe(o=>{this.pagina=o,this.facturacion=o,this.facturacion.rotulos=1}),this.servicio.getPedidoDatos(this.idP).valueChanges().subscribe(o=>{null!=o&&(this.datos=o,this.whatsapp=this.datos.whatsapp)}),this.servicio.getPedidoProductos(this.idP).valueChanges().subscribe(o=>{null!=o&&(this.productos=o)}),this.total(),this.loading=!1}productosOrganizar(){return this.productos=this.servicio.ordenar(this.productos,"nombre"),this.productos}back(){this.servicio.back()}total(){this.datos.total=0;for(let t=0;t<this.productos.length;t++)0!=this.productos[t].cantidad&&(this.datos.total+=this.productos[t].precio*this.productos[t].cantidad);this.datos.subTotal=0!=this.datos.iva&&null!=this.datos.iva||0!=this.datos.descuento&&null!=this.datos.descuento||0!=this.datos.envio&&null!=this.datos.envio?this.datos.total:null;let o=this.datos.iva,i=this.datos.descuento,n=this.datos.envio;null!=this.datos.iva&&null!=this.datos.iva||(o=0),null!=this.datos.descuento&&null!=this.datos.descuento||(i=0),null!=this.datos.envio&&null!=this.datos.envio||(n=0),this.datos.total*=1-i/100,this.datos.total*=1+o/100,this.datos.total+=n}calcular(){this.servicio.exito("Datos actualizados"),this.total(),this.servicio.savePedido(this.datos,this.productos),this.back()}delete(){this.confirmar("Eliminar","si","No","Pedido eliminado","El pedido ha sido eliminado con exito")}confirmar(o,i,n,t,e){r.a.fire({title:o,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:i,cancelButtonText:n}).then(o=>{o.isConfirmed&&(r.a.fire(t,e,"success"),this.servicio.deletePedido(this.idP),this.back())})}sendWha(){this.servicio.sendWha(this.datos,this.productos,this.whatsapp)}guardarPedido(){this.datos.whatsapp=this.datos.whatsapp.toString(),this.servicio.saveCliente(this.datos,this.productos),this.back()}cotizacion(){this.servicio.exito("Generando cotizacion"),this.servicio.createCotizacion(this.facturacion,this.datos,this.productos)}rotulo(){this.servicio.exito("Generando rotulo"),this.servicio.createRotulo(this.facturacion,this.datos,this.productos)}}return o.\u0275fac=function(i){return new(i||o)(s.Ib(l.a),s.Ib(c.g))},o.\u0275cmp=s.Cb({type:o,selectors:[["app-mostrar-pedido"]],decls:9,vars:2,consts:[["color","dark"],["slot","start"],[3,"click"],["name","caret-back-outline"],["color","medium"],[4,"ngIf"],["src","../../assets/imagenes/loading.gif",1,"icon"],["horizontal","end","vertical","bottom","slot","fixed"],["md","caret-up","ios","chevron-up-circle-outline"],["side","top"],["color","danger",3,"click"],["name","trash-outline"],["color","primary",3,"click"],["name","person-add-outline"],["color","warning",3,"click"],["name","document-outline"],["color","success",3,"click"],["height","60%","width","60%","src","../../assets/imagenes/ticket-outline.svg"],["position","floating"],[3,"ngModel","ngModelChange"],["size","2",2,"text-align","center"],["size","5",2,"text-align","center"],["size","3",2,"text-align","center"],[4,"ngFor","ngForOf"],[1,"ion-text-center"],["type","number",3,"ngModel","ngModelChange"],["style","font-size: 15px;",4,"ngIf"],[2,"text-align","center"],["size","4"],["size","8"],["name","send-outline"],[1,"ion-no-border",2,"position","fixed","bottom","0"],["shape","round","expand","full",3,"click"],[2,"background-color","#d1d1d1","color","black","padding","10px"],["size","2"],["size","5"],["type","text",3,"ngModel","ngModelChange"],[2,"font-size","15px"]],template:function(o,i){1&o&&(s.Nb(0,"ion-toolbar",0),s.Nb(1,"ion-buttons",1),s.Nb(2,"ion-button",2),s.Vb("click",(function(){return i.back()})),s.Jb(3,"ion-icon",3),s.Mb(),s.Mb(),s.Nb(4,"ion-title"),s.ic(5,"Detalles del pedido"),s.Mb(),s.Mb(),s.Nb(6,"ion-content",4),s.hc(7,d,2,0,"ng-container",5),s.hc(8,g,155,29,"ng-container",5),s.Mb()),2&o&&(s.yb(7),s.cc("ngIf",1==i.loading),s.yb(1),s.cc("ngIf",0==i.loading))},directives:[b.C,b.e,b.d,b.s,b.B,b.m,t.k,b.n,b.o,b.p,b.f,b.h,b.j,b.u,b.v,b.t,b.K,e.d,e.e,b.g,b.x,b.l,t.j,b.A,b.G,b.q],pipes:[t.e,t.c],styles:[".icon[_ngcontent-%COMP%]{display:block;margin:50% auto;width:50%;border-radius:50%}.bordes[_ngcontent-%COMP%]{margin-left:5%;margin-right:5%}"]}),o})()}];let p=(()=>{class o{}return o.\u0275mod=s.Gb({type:o}),o.\u0275inj=s.Fb({factory:function(i){return new(i||o)},imports:[[c.i.forChild(N)],c.i]}),o})(),f=(()=>{class o{}return o.\u0275mod=s.Gb({type:o}),o.\u0275inj=s.Fb({factory:function(i){return new(i||o)},imports:[[t.b,e.a,b.D,p]]}),o})()}}]);